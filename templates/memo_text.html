<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">    
    <title>Document</title>
</head>
<body class="bg-light">
    <!-- <div class="container mt-5">
        <h1 class="display-4">웹페이지 구축 환영</h1>
        <button class="btn btn-primary mb-4" style="padding: 20px 40px; font-size: 25px;"></button>    
            <P>관리자 페이지 접속해보기</P>
            <p>가상서버 켜기 : .\venv\Scripts\Activate.ps1  </p>
            <p>가상서버 에러 발생시(보안에러임) : Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope Process  </p>
            <p>다시 서버를 켭니다:   python manage.py runserver  </p>
            <p>브라우저 주소창에 다음과 같이 입력합니다:  http://127.0.0.1:8000  /admin</p>
            <p>비밀번호변경방법 python manage.py changepassword rladudwns29</p>
            <p>pw k-1800-92- 입니다</P>
            <p>브라우저의 '시크릿 모드' 열기 : 크롬 브라우저에서 **Ctrl + Shift + N**을 눌러 시크릿 창을 엽니다.</p>  
            
            계정만들기
            python manage.py createsuperuser            
            회사 컴퓨터: admin_work / 1234 계정 생성 (한 번만 해두면 계속 유지됨)
            집 컴퓨터: admin_home / 1234 계정 생성 (한 번만 해두면 계속 유지됨)
    </div> -->
    <div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-4">
            <div class="card shadow">
                <div class="card-body">
                    
                    {% if user.is_authenticated %}
                        <div class="text-center">
                            <h3 class="mb-4">방문을 환영합니다!</h3>
                            <p class="lead"><strong>{{ user.username }}</strong>님, 반갑습니다.</p>
                            <hr>
                            <form action="/logout/" method="post">
                                {% csrf_token %}
                                <div class="d-grid mt-3">
                                    <button type="submit" class="btn btn-danger">로그아웃</button>
                                </div>
                            </form>
                        </div>
                    {% else %}
                        <h3 class="text-center mb-4">로그인</h3>
                        
                        {% if form.errors %}
                            <p class="text-danger text-center small">아이디 또는 비밀번호가 틀렸습니다.</p>
                        {% endif %}

                        <form method="post" action="/login/">
                            {% csrf_token %}
                            <div class="mb-3">
                                <label class="form-label">아이디</label>
                                <input type="text" name="username" class="form-control" placeholder="아이디를 입력하세요">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">비밀번호</label>
                                <input type="password" name="password" class="form-control" placeholder="비밀번호를 입력하세요">
                            </div>
                            <div class="d-grid">
                                <button type="submit" class="btn btn-primary btn-lg">로그인</button>
                            </div>
                        </form>

                        <div class="mt-3 text-center">
                            <small>계정이 없으신가요? <a href="/signup/">회원가입</a></small>
                        </div>
                    {% endif %}

                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
